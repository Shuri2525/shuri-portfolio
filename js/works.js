/* ================================
   WORKS データ（カテゴリ別）
================================ */
const WORKS_DATA = {
  web: [
   {
  "id": "01",
  "title": "余白設計で魅せるポートフォリオ",
  "modalTitle": "余白設計で魅せる<br>ポートフォリオ",
  "tag": "ポートフォリオ / 個人制作",
  "thumb": "./assets/works/web/01/hero.jpg",
  "modalThumb": "./assets/works/web/01/thumb.jpg",
  "detailImg": "./assets/works/web/01/detail.jpg",
  "detailImg2": "./assets/works/web/01/detail2.jpg",
  "outline": "自身のデザインや考え方を伝えるために制作したポートフォリオサイトです。情報を詰め込みすぎず、必要なことが自然に伝わる構成を意識しました。",
  "target": "ブランドや印象を大切にしたい事業者・個人",
  "period": "約3ヶ月",
  "purpose": "制作姿勢と設計力が自然に伝わる見せ方を整えるため",
  "designAxis": "余白設計 / 情報階層 / 世界観の統一",
  "detailText": "視線の流れと余白のバランスを整え、落ち着いたトーンで全体を設計しました。作品そのものが引き立つよう装飾は抑え、心地よく読み進められる構成にまとめています。"
}
,
    {
  "id": "02",
  "title": "予約導線を整えたホテルサイト",
  "tag": "TOPページ / コンペ制作",
  "thumb": "./assets/works/web/02/hero.jpg?v=20260226",
  "modalThumb": "./assets/works/web/02/thumb.jpg?v=20260226",
  "detailImg": "./assets/works/web/02/detail.jpg",
  "outline": "沖縄・那覇のビジネスホテルTOPページデザインをコンペにて制作しました。",
  "target": "40代男性を中心とした、ビジネス・ファミリー・団体利用者",
  "period": "3日",
  "purpose": "予約まで迷わない導線と安心感の両立を目指すため",
  "designAxis": "予約導線 / 安心感 / 情報の即時把握",
  "detailText": "落ち着きと信頼感が伝わる配色と余白設計で、安心して選べる印象に整えました。ビジネス利用と旅行利用の両方を想起できるよう、写真と情報の配置にリズムを持たせています。"
}
,
    {
  "id": "03",
  "title": "癒しの空気感を伝えるヘッドスパLP",
  "tag": "TOPページ / コンペ制作",
  "thumb": "./assets/works/web/03/hero.jpg",
  "modalThumb": "./assets/works/web/03/thumb.jpg",
  "detailImg": "./assets/works/web/03/detail.jpg",
  "outline": "海外在住女性向けのヘッドスパ専門店LPをコンペにて制作しました。日本らしい癒しの空気感が伝わるビジュアルを意識しました。",
  "target": "30代後半〜40代後半の女性（海外在住）",
  "period": "3日",
  "purpose": "世界観の表現と予約行動のバランスを整えるため",
  "designAxis": "情緒表現 / 可読性 / 行動導線",
  "detailText": "情報を詰め込みすぎず、余白と配色でリラックス感が伝わる構成に整えました。世界観を保ちながら予約まで自然につながるよう、要素の密度と順序を丁寧に調整しています。"
}
,

/*
{
  id: "04",
  title: "老舗焼肉店サイト",
  tag: "TOPページ / コンペ制作",
  thumb: "./assets/works/web/04/hero.jpg",
  modalThumb: "./assets/works/web/04/thumb.jpg",
  detailImg: "./assets/works/web/04/detail.png",
  outline: "飲食店のコーポレートサイトリニューアルを想定し、TOPページを制作しました。",
  target: "来店を検討する幅広い年齢層のユーザー",
  period: "5日",
  purpose: "高級感と親しみやすさを両立したブランディングのため",
  detailText: "神戸牛専門店のリニューアル案件を想定し、高級感がありながらも来店しやすい印象を与えるトーン設計を意識しました。昼夜それぞれの利用シーンを想定し、情報の優先度と視線の流れを整理しています。"
},
*/

{
  "id": "05",
  "title": "信頼と先進性を両立した医院サイト",
  "tag": "TOPページ / コンペ制作",
  "thumb": "./assets/works/web/05/hero.jpg",
  "modalThumb": "./assets/works/web/05/thumb.jpg",
  "detailImg": "./assets/works/web/05/detail.png",
  "outline": "整形外科医院のTOPページリニューアル案をコンペにて制作しました。安心感の中に、少しの先進性を感じられるデザインを目指しました。",
  "target": "通院を検討する幅広い年齢層のユーザー",
  "period": "3日",
  "purpose": "信頼感を保ちながら、現代的な印象へ整えるため",
  "designAxis": "信頼感 / 清潔感 / 先進性のバランス",
  "detailText": "清潔感のある配色と余白設計で、見やすさと信頼感を両立する構成に整えました。幅広い年代の方が直感的に情報を探せるよう、要素の優先度を整理したシンプルな導線を採用しています。"
}
,
{
  "id": "06",
  "title": "地域に伝わる消防団ポータル設計",
  "tag": "TOPページ / コンペ制作",
  "thumb": "./assets/works/web/06/hero.jpg",
  "modalThumb": "./assets/works/web/06/thumb.jpg",
  "detailImg": "./assets/works/web/06/detail.jpg",
  "outline": "消防団の活動を紹介するポータルサイトをコンペにて制作しました。親しみやすさと信頼感のバランスを意識しました。",
  "target": "県内在住の幅広い年齢層の男女",
  "period": "5日",
  "purpose": "公共情報をやさしく整理し、理解と関心につなげるため",
  "designAxis": "公共性 / 親しみ / 情報整理",
  "detailText": "写真とレイアウトで安心感をつくり、地域の方が自然に関心を持てる構成に整えました。情報量が過多にならないよう整理し、迷わず閲覧できるナビゲーションを設計しています。短期間でも品質を保てるよう、デザインパターンとコンポーネントを効率的に活用しました。"
}

  ],

  dtp: [
    {
  "id": "01",
  "title": "第一印象を整える名刺デザイン",
  "tag": "名刺 / 個人制作",
  "thumb": "./assets/works/dtp/01/hero.jpg?v=20260226",
  "modalThumb": "./assets/works/dtp/01/thumb.jpg?v=20260226",
  "detailImg": "./assets/works/dtp/01/hero2.jpg?v=20260226",
  "outline": "自身のブランディングを意識して制作した名刺です。シンプルな中にも印象に残るデザインを目指しました。",
  "target": "取引先・クライアント",
  "period": "1日",
  "purpose": "初対面でも落ち着いて伝わる情報設計にするため",
  "designAxis": "第一印象 / 可読性 / 再現性",
  "detailText": "タイポグラフィと余白の取り方を丁寧に調整し、必要な情報が一目で伝わる構成に整えました。入稿時の再現性や可読性にも配慮し、実用面と印象面の両方を成立させています。"
}
,
  {
  "id": "02",
  "title": "説明しやすい三つ折りリーフレット",
  "tag": "チラシ / 実案件",
  "thumb": "./assets/works/dtp/02/hero.jpg?v=20260226",
  "modalThumb": "./assets/works/dtp/02/thumb.webp?v=20260226",
  "detailImg": "./assets/works/dtp/02/detail.jpg?v=20260226",
  "outline": "外壁塗装サービスの三つ折りリーフレット。案内時に伝わりやすい順序と情報の展開を意識して制作しました。",
  "target": "戸建住宅を検討する施主・住民",
  "period": "2日",
  "purpose": "説明しやすさと読みやすさを両立するため",
  "designAxis": "説明順序 / 情報圧縮 / 信頼感",
  "detailText": "観音開きの特性を活かし、説明の流れが自然につながる情報設計に整えました。専門的な内容でも読みやすさを保てるよう、配色と要素配置を整理し、安心感とデザイン性の両立を意識しています。"
}
,


    {
  "id": "03",
  "title": "更新運用に強い戸建て販売チラシ",
  "tag": "チラシ / 実案件",
  "thumb": "./assets/works/dtp/03/hero.jpg",
  "modalThumb": "./assets/works/dtp/03/thumb.webp",
  "detailImg": "./assets/works/dtp/03/detail.jpg",
  "outline": "新築分譲住宅の販売チラシ。視認性と汎用性を重視した設計です。",
  "target": "住宅購入を検討するファミリー層・地域住民",
  "period": "3日",
  "purpose": "更新しやすさと見やすさを継続できる設計にするため",
  "designAxis": "更新性 / 視認性 / 展開しやすさ",
  "detailText": "物件情報が主役として伝わるよう情報を整理し、視線が迷わない紙面構成に整えました。更新頻度の高い運用を想定し、配色を切り替えて展開できる設計で、統一感と更新性を両立しています。"
}

  ],

  graphic: [

    {
  "id": "01",
  "title": "多義性を持つSモチーフロゴ",
  "tag": "ロゴ / 個人制作",
  "thumb": "./assets/works/graphic/01/hero.jpg",
  "modalThumb": "../assets/works/graphic/01/thumb.jpg",
  /*"detailImg": "../assets/works/graphic/01/detail.jpg",*/
  "outline": "自身の名前の頭文字「S」をモチーフにした、シンプルで多面的な印象を持つパーソナルロゴです。モノクロ配色により、あらゆる媒体での汎用性を確保しています。",
  "target": "個人ブランディング全般",
  "period": "3日",
  "purpose": "個人のらしさを一貫して伝える土台を作るため",
  "designAxis": "象徴性 / 多義性 / 汎用性",
  "detailText": "控えめでありながら記憶に残るバランスを目指し、シンプルな造形に多義性を持たせました。媒体を問わず使える汎用性を確保しながら、見る人の解釈が広がる余白を意識して設計しています。"
},

  {
  "id": "02",
  "title": "上質感を伝える美容室ロゴ提案",
  "tag": "ロゴ / コンペ",
  "thumb": "./assets/works/graphic/02/hero.webp",
  "modalThumb": "./assets/works/graphic/02/thumb.webp",
  /*"detailImg": "./assets/works/graphic/02/detail.jpg",*/
  "outline": "美容室のブランディングを目的としたロゴデザインを、コンペ提出用に制作しました。40代の女性をターゲットに、落ち着きと品のある印象を意識しています。",
  "target": "美容室（40代女性中心）",
  "period": "2日",
  "purpose": "ブランドの印象をやわらかく記憶に残すため",
  "designAxis": "上質感 / 視認性 / 記憶性",
  "detailText": "「まっすぐに続く美しさ」を軸に、縦ラインと余白を活かした静けさのある構成に整えました。上品な視認性を保ちながら、丸みのある処理でやわらかな印象を加え、記憶に残る佇まいを目指しています。"
}
,
   {
  "id": "03",
  "title": "つながりを象徴する食品ブランドロゴ",
  "tag": "ロゴ / コンペ",
  "thumb": "./assets/works/graphic/03/hero.webp",
  "modalThumb": "./assets/works/graphic/03/thumb.webp",
  /*"detailImg": "./assets/works/graphic/03/detail.webp",*/
  "outline": "食品会社のブランドロゴとしてコンペに提出したデザインです。人と人とのつながりを“結ぶ”というテーマに落とし込みました。",
  "target": "食品メーカー・生活者",
  "period": "4日",
  "purpose": "価値観を静かに伝え、長く記憶に残る印象を作るため",
  "designAxis": "物語性 / 温度感 / ブランド一体感",
  "detailText": "「むすぶ」という行為を抽象化し、あたたかいつながりが伝わる造形に整えました。水引を想起させる要素と深みのある配色で、品格とぬくもりを両立し、ブランド名との一体感まで設計しています。"
}

  ]
};

/* ================================
   WORKS リスト制御
================================ */
document.addEventListener("DOMContentLoaded", () => {

  const worksList = document.querySelector("#worksList");
  const catButtons = document.querySelectorAll(".cat-btn");

  if (!worksList) {
    console.error("❌ #worksList が見つかりません");
    return;
  }

  // 作品一覧を描画
  function renderWorks(category) {
    worksList.innerHTML = "";

    const data = WORKS_DATA[category];
    if (!data) {
      console.error("❌ カテゴリが見つかりません:", category);
      return;
    }

    data.forEach(work => {
      const [tagEn, tagJa] = work.tag.split("/").map(t => t?.trim());

      worksList.insertAdjacentHTML("beforeend", `
        <div class="work-item" data-id="${work.id}" data-category="${category}">
          <div class="work-thumb-wrap">
            <img src="${work.thumb}" alt="${work.title}" class="work-thumb" loading="lazy" decoding="async">
          </div>
          <p class="work-title">${work.title}</p>
          <p class="work-label">
            <span class="tag-en"># ${tagEn}</span>
            ${tagJa ? `<span class="tag-ja"> / ${tagJa}</span>` : ""}
          </p>
        </div>
      `);
    });

    bindModalEvents();
  }

  // モーダルイベントを設定
  function bindModalEvents() {
    document.querySelectorAll(".work-item").forEach(item => {
      item.addEventListener("click", () => {
        const category = item.dataset.category;
        const id = item.dataset.id;
        const work = WORKS_DATA[category]?.find(w => w.id === id);

        if (!work) {
          console.error("❌ 作品が見つかりません", category, id);
          return;
        }

        if (typeof window.openModal !== "function") {
          console.error("❌ openModal が定義されていません");
          return;
        }

        window.openModal({ ...work, category });
      });
    });
  }

  // 初期表示（WEB）
  renderWorks("web");
  document.querySelector(".btn-web")?.classList.add("active");
  catButtons.forEach(b => b.setAttribute("aria-pressed", b.classList.contains("btn-web") ? "true" : "false"));

  // カテゴリボタンのイベント
  catButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      catButtons.forEach(b => {
        b.classList.remove("active");
        b.setAttribute("aria-pressed", "false");
      });
      btn.classList.add("active");
      btn.setAttribute("aria-pressed", "true");

      if (btn.classList.contains("btn-web")) renderWorks("web");
      if (btn.classList.contains("btn-dtp")) renderWorks("dtp");
      if (btn.classList.contains("btn-graphic")) renderWorks("graphic");
    });
  });

});
